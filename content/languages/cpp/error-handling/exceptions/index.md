---
title: 异常与 noexcept（栈展开/异常安全）
---

模型
- 抛出异常触发栈展开，调用析构（RAII 保证资源释放）；`noexcept` 函数不可抛出
- 异常层级：逻辑错误/运行时错误；建议自定义异常携带上下文

异常安全等级
- 基本保证：失败不破坏不变式
- 强保证：操作回滚至调用前状态
- 不抛保证：标注 `noexcept`，便于优化与移动操作

建议
- 库层抛异常，应用边界统一捕获并转为错误码/日志
- 禁止在析构中抛出；移动构造通常 `noexcept`（影响容器优化）
- 热路径或硬实时可考虑 `-fno-exceptions` 替代策略（expected/错误码）
