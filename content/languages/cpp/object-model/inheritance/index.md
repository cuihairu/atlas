---
title: 继承与可见性（public/protected/private/虚继承）
---

访问控制
- 公有继承：`is-a` 关系，对外保留基类接口
- 受保护/私有继承：实现复用/限制可见性，谨慎使用

`using` 声明与覆盖
- 通过 `using Base::f;` 暴露重载集合，避免隐藏（name hiding）
- 覆盖成员请加 `override`（见虚函数章节）

菱形/多重继承
- 多重继承造成二义性：`Base` 子对象重复
- 虚继承：`struct D: virtual B1, virtual B2 {}` 合并共享基，带来构造复杂与布局成本

组合优先于继承
- 仅当“语义上 is-a”且需要多态时选择继承；否则以组合实现复用

最佳实践
- 尽量保持单一继承树；在接口层使用纯虚基类，在实现层用组合
- 严格控制可见性，避免基类实现细节泄漏
- 文档化构造/销毁顺序与初始化列表中的基/成员顺序
